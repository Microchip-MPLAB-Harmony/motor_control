<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2724382-16'); </script> <script type="text/javascript" src="../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>PMSM FOC Component | Harmony 3 Motor Control</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="PMSM FOC Component" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 Motor Control package" /> <meta property="og:description" content="Harmony 3 Motor Control package" /> <link rel="canonical" href="../../algorithms/pmsm_foc/readme.html" /> <meta property="og:url" content="../../algorithms/pmsm_foc/readme.html" /> <meta property="og:site_name" content="Harmony 3 Motor Control" /> <script type="application/ld+json"> {"@type":"WebPage","headline":"PMSM FOC Component","url":"../../algorithms/pmsm_foc/readme.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"description":"Harmony 3 Motor Control package","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../index.html" class="nav-list-link">Harmony 3 Motor Control</a><ul class="nav-list "><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../algorithms/pmsm_foc/readme.html" class="nav-list-link active">PMSM FOC Component</a><ul class="nav-list"><li class="nav-list-item ">  </li><li class="nav-list-item "> <a href="../../algorithms/pmsm_foc/sw_design.html" class="nav-list-link">Software Design</a> </li><li class="nav-list-item "> <a href="../../algorithms/pmsm_foc/control_algorithm.html" class="nav-list-link">Control Algorithm</a> </li><li class="nav-list-item "> <a href="../../algorithms/pmsm_foc/configurations.html" class="nav-list-link">Configuring the Library</a> </li><li class="nav-list-item "> <a href="../../algorithms/pmsm_foc/using_the_library.html" class="nav-list-link">Using the Library</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="../../release_notes.html" class="nav-list-link">Release notes</a></li><li class="nav-list-item"><a href="../../mplab_harmony_license.html" class="nav-list-link">License</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Harmony 3 Motor Control" aria-label="Search Harmony 3 Motor Control" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.microchip.com" class="site-button" > Obtain Support from Microchip </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../index.html">Harmony 3 Motor Control</a></li> <li class="breadcrumb-nav-list-item"><span>PMSM FOC Component</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="pmsm-foc"> <a href="#pmsm-foc" aria-labelledby="pmsm-foc" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> PMSM FOC </h1> <p>PMSM_FOC component provides Field Oriented Control (FOC) algorithm for Permanent Magnet Synchronous Motor (PMSM). This component supports speed control with an inner current control loop to control motor speed and motor current. It also supports current control and open loop mode. Rotor position estimation techniques are configurable in the UI.</p> <p>PMSM_FOC connects to the Peripheral Libraries (PLIBs) from CSP repository and X2CScope component from X2C repository.</p> <p>This component depends on ADC PLIB for phase current measurement, DC bus voltage and potentiometer measurement. PWM PLIB is used to generate three phase signals to control the motor. For quadrature encoder sensor position feedback, PMSM_FOC interacts with QDEC peripheral.</p> <h2 id="supported-microcontrollers-and-development-boards"> <a href="#supported-microcontrollers-and-development-boards" aria-labelledby="supported-microcontrollers-and-development-boards" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Supported Microcontrollers and Development Boards </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Microcontroller</th> <th>MCLV2</th> <th>MCHV3</th> </tr> </thead> <tbody> <tr> <td>SAME70</td> <td>Yes</td> <td>Yes</td> </tr> <tr> <td>SAME54</td> <td>Yes</td> <td>Yes</td> </tr> <tr> <td>PIC32MK MCF</td> <td>Yes</td> <td>Yes</td> </tr> <tr> <td>PIC32MK MCM</td> <td>Yes</td> <td>Yes</td> </tr> <tr> <td> </td> <td> </td> <td> </td> </tr> </tbody> </table></div> <h2 id="supported-features"> <a href="#supported-features" aria-labelledby="supported-features" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Supported Features </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Feature</th> <th>Options</th> </tr> </thead> <tbody> <tr> <td>Position Feedback</td> <td>- PLL Estimator <br /> - Quadrature Encoder</td> </tr> <tr> <td>Current Measurement</td> <td>- Dual shunt</td> </tr> <tr> <td>Control Loop</td> <td>- Speed mode <br /> - Torque mode <br /> - Open loop (For sensorless operation)</td> </tr> <tr> <td>Field Alignment</td> <td>- Q-axis alignment <br /> - D-axis alignment</td> </tr> <tr> <td>Advanced Features</td> <td>- Equation based field weakening <br /> - Flying Start</td> </tr> <tr> <td> </td> <td> </td> </tr> </tbody> </table></div> <p><a href="../../algorithms/pmsm_foc/sw_design.html">Software Design</a></p> <p><a href="../../algorithms/pmsm_foc/control_algorithm.html">Control Algorithm</a></p> <p><a href="/onfigurations.md">Configuring the Library</a></p> <p><a href="../../algorithms/pmsm_foc/using_the_library.html">Using the Library</a></p> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0"><img src='https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png' /><br />Copyright &copy; 2020 Microchip Technology.</p> <!-- <p class="text-small text-grey-dk-000 mb-0"><img src='../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2020 Microchip Technology.</p> --> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
