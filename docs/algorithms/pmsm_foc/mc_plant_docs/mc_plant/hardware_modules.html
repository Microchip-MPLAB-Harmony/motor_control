<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="../../../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../../../assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2724382-16'); </script> <script type="text/javascript" src="../../../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Hardware Modules | Harmony 3 Motor Control</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Hardware Modules" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 Motor Control package" /> <meta property="og:description" content="Harmony 3 Motor Control package" /> <link rel="canonical" href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/hardware_modules.html" /> <meta property="og:url" content="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/hardware_modules.html" /> <meta property="og:site_name" content="Harmony 3 Motor Control" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Hardware Modules" /> <script type="application/ld+json"> {"@type":"WebPage","url":"../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/hardware_modules.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"headline":"Hardware Modules","description":"Harmony 3 Motor Control package","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="../../../../index.html" class="nav-list-link">Microchip MPLAB® Harmony 3 Motor Control</a></li><li class="nav-list-item"><a href="../../../../algorithms/pmsm_foc/readme.html" class="nav-list-link">PMSM FOC Component</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../../algorithms/pmsm_foc/mc_plant_docs/introduction.html" class="nav-list-link">Motor Control Plant Projects</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/theoretical_background.html" class="nav-list-link">Theoretical Background</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/pmsm_motor.html" class="nav-list-link">Permanent Magnet Synchronous Motors</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/field_oriened_control.html" class="nav-list-link">Field Oriented Control</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/current_measurement.html" class="nav-list-link">Current Measurement</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/rotor_position_measurement.html" class="nav-list-link">Rotor Position Calculation</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/software_design.html" class="nav-list-link">Software Design</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/software_architecture.html" class="nav-list-link">Implementation Details</a> </li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/getting_started.html" class="nav-list-link">Getting Started</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/create_mc_project_with_mcc.html" class="nav-list-link">Create MCC project for MC Plant</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/motor_control_plant_manager.html" class="nav-list-link">MC Plant Manager</a> </li><li class="nav-list-item active"> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/hardware_modules.html" class="nav-list-link active">Hardware Modules</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/peripheral_modules.html" class="nav-list-link">Peripheral Modules</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/software_modules.html" class="nav-list-link">Software Modules</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/generate_mc_code_with_mcc.html" class="nav-list-link">Generate Code with MCC</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../../algorithms/pmsm_foc/non_mc_plant.html" class="nav-list-link">Non Motor Control Plant Projects</a><ul class="nav-list "><li class="nav-list-item "><a href="../../../../algorithms/pmsm_foc/sw_design.html" class="nav-list-link">Software Design</a></li><li class="nav-list-item "><a href="../../../../algorithms/pmsm_foc/control_algorithm.html" class="nav-list-link">Control Algorithm</a></li><li class="nav-list-item "><a href="../../../../algorithms/pmsm_foc/configurations.html" class="nav-list-link">Configuring the Library</a></li><li class="nav-list-item "><a href="../../../../algorithms/pmsm_foc/using_the_library.html" class="nav-list-link">Using the Library</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../../release_notes.html" class="nav-list-link">Release notes</a><ul class="nav-list "><li class="nav-list-item "><a href="../../../../apps/readme.html" class="nav-list-link">Motor Control Application Repositories</a></li></ul></li><li class="nav-list-item"><a href="../../../../mplab_harmony_license.html" class="nav-list-link">License</a></li><li class="nav-list-item"><a href="../../../../plugins/mc_plant/intro.html" class="nav-list-link">Getting Started with Create React App</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Harmony 3 Motor Control" aria-label="Search Harmony 3 Motor Control" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.microchip.com" class="site-button" > Obtain Support from Microchip </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../../../algorithms/pmsm_foc/mc_plant_docs/introduction.html">Motor Control Plant Projects</a></li> <li class="breadcrumb-nav-list-item"><a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/getting_started.html">Getting Started</a></li> <li class="breadcrumb-nav-list-item"><span>Hardware Modules</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <!-- Styling --> <style> body { counter-reset: h1; padding: 20px; } h1 { background-color: red; color: white; counter-reset: h2 } h2 { background-color: red; color: white; counter-reset: h3 } h3 { background-color: red; color: white; counter-reset: h4 } h1:before { background-color: red; color: white; counter-increment: h1; content: counter(h1) ". " } h2:before { background-color: red; color: white; counter-increment: h2; content: counter(h1) "." counter(h2) ". " } h3:before { background-color: red; color: white; counter-increment: h3; content: counter(h1) "." counter(h2) "." counter(h3) ". " } h4:before { background-color: red; color: white; counter-increment: h4; content: counter(h1) "." counter(h2) "." counter(h3) "." counter(h4) ". " } p{ color: black; font-family: "Arial", Helvetica, sans-serif; } article { max-width: 50em; background: white; padding: 2em; margin: 1em auto; } .table-of-contents { float: right; width: 40%; background: #eee; font-size: 0.8em; padding: 1em 2em; margin: 0 0 0.5em 0.5em; } .table-of-contents ul { padding: 0; } .table-of-contents li { margin: 0 0 0.25em 0; } .table-of-contents a { text-decoration: none; } .table-of-contents a:hover, .table-of-contents a:active { text-decoration: underline; } h3:target { animation: highlight 1s ease; } @keyframes highlight { from { background: yellow; } to { background: white; } } li{ color: black; font-family: "Arial", Helvetica, sans-serif; } table{ color: black; font-family: "Arial", Helvetica, sans-serif; } } } </style> <h1 id="setting-hardware-modules"> <a href="#setting-hardware-modules" aria-labelledby="setting-hardware-modules" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting Hardware Modules </h1> <p>This section describes how to set-up hardware modules for motor control application project with Motor Control Plant.</p> <h2 id="configure-pmsm-parameters"> <a href="#configure-pmsm-parameters" aria-labelledby="configure-pmsm-parameters" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configure PMSM parameters </h2> <p>The PMSM parameter can be configured in following simple steps:</p> <ol> <li> <p>Click on the motor block to open PMSM parameter window as shown below. <img src="images/motor_parameters_01.jpg" alt="Motor Parameters" title="Motor Parameters" /></p> </li> <li> <p>Configure the motor parameters as shown below. <img src="images/motor_parameters_02.JPG" alt="Select Motor" title="Select Motor" /></p> </li> <li>Close the window <h2 id="configure-development-board"> <a href="#configure-development-board" aria-labelledby="configure-development-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configure Development Board </h2> <p>There are two ways by which the motor control board can be configured.</p> </li> <li>By selecting the board from the list of Microchip’s development boards and reference designs.</li> <li>By configuring the board Parameters from scratch.</li> </ol> <h2 id="microchips-development-board-and-reference-designs"> <a href="#microchips-development-board-and-reference-designs" aria-labelledby="microchips-development-board-and-reference-designs" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Microchip’s Development Board and Reference Designs </h2> <p>Microchip offers a number of motor control development boards and reference designs. These boards can be selected from <strong>Quick Settings</strong> logo to use these boards for developmental activities.</p> <p>Following steps list the procedure to select the Motor Control Plant supported development board and reference design.</p> <ul> <li> <p>Click on the “Quick setting” icon as shown below. <img src="images/quick_settings.jpg" alt="Quick Settings" title="Quick Settings" /></p> </li> <li> <p>Select appropriate motor from “Select Board” option as shown below.</p> </li> </ul> <p><img src="images/quick_settings_01.png" alt="Quick Settings" title="Quick Settings" /></p> <h2 id="setting-board-parameters-from-scratch"> <a href="#setting-board-parameters-from-scratch" aria-labelledby="setting-board-parameters-from-scratch" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting Board Parameters from Scratch </h2> <p>The Motor Control Plant can be used to configure the board parameters from scratch. Following steps list the procedure to configure the board parameters from scratch.</p> <h2 id="setting-analog-front-end"> <a href="#setting-analog-front-end" aria-labelledby="setting-analog-front-end" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting Analog Front End </h2> <p>The following section describes various analog front end circuit and how it can be configured using Motor Control Plant.</p> <h3 id="theoretical-background"> <a href="#theoretical-background" aria-labelledby="theoretical-background" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Theoretical Background </h3> <p>The Field Oriented Control of an AC motor requires current, voltage and rotor position information. These signals are processed using analog circuits before it is sent to the microcontroller to be used for the control tasks. The control software has to be cognizant of these analog circuit parameters in order to reconstruct the actual analog signal for control operations.</p> <h3 id="phase-current-measurement"> <a href="#phase-current-measurement" aria-labelledby="phase-current-measurement" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Phase Current Measurement </h3> <p>There are a number of other ways of measuring the phase currents. For brief introduction refer <a href="current_measurement.md">Current Measurement in AC motor drives</a>.</p> <h3 id="dc-bus-voltage-measurement"> <a href="#dc-bus-voltage-measurement" aria-labelledby="dc-bus-voltage-measurement" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DC Bus Voltage Measurement </h3> <p>The DC bus voltage is usually measured by using a resistor based potential divider.</p> <!-- $ V_{DC} = \frac{R_{BOTTOM} + R_{TOP}}{R_{BOTTOM}}V_{o} $ --> <p align="center"> <img style="transform: translateY(0.1em); background: white;" src="..\..\..\..\svg\aR7vmVqBu4.svg" /> </p> <h3 id="configuring-analog-front-end-with-mc-plant"> <a href="#configuring-analog-front-end-with-mc-plant" aria-labelledby="configuring-analog-front-end-with-mc-plant" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring Analog front End with MC Plant </h3> <p>In Motor Control Plant analog parameters can be set in following steps.</p> <ol> <li> <p>Launch <strong>Analog Front End</strong> by clicking on the block</p> <p><img src="images/analog_front_end.jpg" alt="Analog Front End" title="Analog Front End" /></p> </li> <li> <p>Configure <strong>Phase A</strong> current measurement analog circuit parameters by clicking on the IaSens icon.</p> <p><img src="images/analog_front_end_ia.jpg" alt="Ia" title="Ia" /></p> </li> <li> <p>Configure <strong>Phase B</strong> current measurement analog circuit parameters by clicking on the IbSens icon.</p> <p><img src="images/analog_front_end_ib.jpg" alt="Ib" title="Ib" /></p> </li> <li> <p>Configure <strong>DC Bus</strong> current measurement analog circuit parameters by clicking on the VdcSens icon.</p> <p><img src="images/analog_front_end_vdc.jpg" alt="Vdc" title="Vdc" /></p> </li> </ol> <h2 id="setting-analog-interface"> <a href="#setting-analog-interface" aria-labelledby="setting-analog-interface" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting Analog Interface </h2> <p>The following section describes the analog interfaces and how it can be configured using Motor Control Plant.</p> <h3 id="theoretical-background-1"> <a href="#theoretical-background-1" aria-labelledby="theoretical-background-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Theoretical Background </h3> <p>The analog signals has to be converted to digital signals for the microcontroller devices to use. For Field Oriented control, the analog signals are converted to corresponding digital signals using ADCs.</p> <p>Figure shows a conceptual diagram of Analog to digital conversion.</p> <p>For an ADC with 12 bit resolution, the conversion can be expressed as follows: $ V_{adc} = \frac{4096*V_{in}}{V_{ref}} $</p> <p>The software essentially has to perform following tasks:</p> <ul> <li>Set the ADC unit and channel to be used to convert analog signals to digital signals</li> <li>Configure ADC parameters like resolution, trigger source etc.</li> </ul> <h3 id="configuring-analog-interface-using-mc-plant"> <a href="#configuring-analog-interface-using-mc-plant" aria-labelledby="configuring-analog-interface-using-mc-plant" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring Analog Interface using MC Plant </h3> <p>In Motor Control Plant analog parameters can be set in following steps.</p> <ol> <li> <p>Launch <strong>Analog Interface</strong> by clicking on the block</p> <p><img src="images/analog_interface.jpg" alt="Analog Interface" title="Analog Interface" /></p> </li> <li> <p>Configure analog interface <strong>Group 01</strong> signals, i.e. phase current A and phase current B by clicking on <strong>Group 01</strong> icon</p> <p><img src="images/analog_interface_group_01.jpg" alt="Group 01 Signals" title="Group 01 Signals" /></p> </li> <li> <p>Configure analog interface <strong>Group 02</strong> signals, i.e. DC bus voltage and potentiometer by clicking on <strong>Group 02</strong> icon</p> <p><img src="images/analog_interface_group_02.jpg" alt="Group 02 Signals" title="Group 02 Signals" /></p> </li> </ol> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0"><img src='https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png' /><br />Copyright &copy; 2020 Microchip Technology.</p> <!-- <p class="text-small text-grey-dk-000 mb-0"><img src='../../../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2022 Microchip Technology.</p> --> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
