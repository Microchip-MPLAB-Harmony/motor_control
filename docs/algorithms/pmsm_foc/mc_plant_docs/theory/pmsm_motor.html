<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="../../../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../../../assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2724382-16'); </script> <script type="text/javascript" src="../../../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Permanent Magnet Synchronous Motors | Harmony 3 Motor Control</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Permanent Magnet Synchronous Motors" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 Motor Control package" /> <meta property="og:description" content="Harmony 3 Motor Control package" /> <link rel="canonical" href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/pmsm_motor.html" /> <meta property="og:url" content="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/pmsm_motor.html" /> <meta property="og:site_name" content="Harmony 3 Motor Control" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Permanent Magnet Synchronous Motors" /> <script type="application/ld+json"> {"@type":"WebPage","url":"../../../../algorithms/pmsm_foc/mc_plant_docs/theory/pmsm_motor.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"headline":"Permanent Magnet Synchronous Motors","description":"Harmony 3 Motor Control package","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="../../../../index.html" class="nav-list-link">Microchip MPLAB® Harmony 3 Motor Control</a></li><li class="nav-list-item"><a href="../../../../algorithms/pmsm_foc/readme.html" class="nav-list-link">PMSM FOC Component</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../../algorithms/pmsm_foc/mc_plant_docs/introduction.html" class="nav-list-link">Motor Control Plant Projects</a><ul class="nav-list "><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/theoretical_background.html" class="nav-list-link">Theoretical Background</a><ul class="nav-list"><li class="nav-list-item active"> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/pmsm_motor.html" class="nav-list-link active">Permanent Magnet Synchronous Motors</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/field_oriened_control.html" class="nav-list-link">Field Oriented Control</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/current_measurement.html" class="nav-list-link">Current Measurement</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/rotor_position_measurement.html" class="nav-list-link">Rotor Position Calculation</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/software_design.html" class="nav-list-link">Software Design</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/software_architecture.html" class="nav-list-link">Implementation Details</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/getting_started.html" class="nav-list-link">Getting Started</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/create_mc_project_with_mcc.html" class="nav-list-link">Create MCC project for MC Plant</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/motor_control_plant_manager.html" class="nav-list-link">MC Plant Manager</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/hardware_modules.html" class="nav-list-link">Hardware Modules</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/peripheral_modules.html" class="nav-list-link">Peripheral Modules</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/software_modules.html" class="nav-list-link">Software Modules</a> </li><li class="nav-list-item "> <a href="../../../../algorithms/pmsm_foc/mc_plant_docs/mc_plant/generate_mc_code_with_mcc.html" class="nav-list-link">Generate Code with MCC</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../../algorithms/pmsm_foc/non_mc_plant.html" class="nav-list-link">Non Motor Control Plant Projects</a><ul class="nav-list "><li class="nav-list-item "><a href="../../../../algorithms/pmsm_foc/sw_design.html" class="nav-list-link">Software Design</a></li><li class="nav-list-item "><a href="../../../../algorithms/pmsm_foc/control_algorithm.html" class="nav-list-link">Control Algorithm</a></li><li class="nav-list-item "><a href="../../../../algorithms/pmsm_foc/configurations.html" class="nav-list-link">Configuring the Library</a></li><li class="nav-list-item "><a href="../../../../algorithms/pmsm_foc/using_the_library.html" class="nav-list-link">Using the Library</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../../release_notes.html" class="nav-list-link">Release notes</a><ul class="nav-list "><li class="nav-list-item "><a href="../../../../apps/readme.html" class="nav-list-link">Motor Control Application Repositories</a></li></ul></li><li class="nav-list-item"><a href="../../../../mplab_harmony_license.html" class="nav-list-link">License</a></li><li class="nav-list-item"><a href="../../../../plugins/mc_plant/intro.html" class="nav-list-link">Getting Started with Create React App</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Harmony 3 Motor Control" aria-label="Search Harmony 3 Motor Control" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.microchip.com" class="site-button" > Obtain Support from Microchip </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../../../algorithms/pmsm_foc/mc_plant_docs/introduction.html">Motor Control Plant Projects</a></li> <li class="breadcrumb-nav-list-item"><a href="../../../../algorithms/pmsm_foc/mc_plant_docs/theory/theoretical_background.html">Theoretical Background</a></li> <li class="breadcrumb-nav-list-item"><span>Permanent Magnet Synchronous Motors</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <!-- Styling --> <style> body { counter-reset: h1 } h1 { background-color: red; color: white; counter-reset: h2 } h2 { background-color: red; color: white; counter-reset: h3 } h3 { background-color: red; color: white; counter-reset: h4 } h1:before { background-color: red; color: white; counter-increment: h1; content: counter(h1) ". " } h2:before { background-color: red; color: white; counter-increment: h2; content: counter(h1) "." counter(h2) ". " } h3:before { background-color: red; color: white; counter-increment: h3; content: counter(h1) "." counter(h2) "." counter(h3) ". " } h4:before { background-color: red; color: white; counter-increment: h4; content: counter(h1) "." counter(h2) "." counter(h3) "." counter(h4) ". " } p{ font-family: Arial, Helvetica, sans-serif; } #toc_container { background: white; display: table; font-size: 100%; margin-bottom: 1em; padding: 10px; width: auto; } .toc_title { font-weight: 700; text-align: left; } #toc_container li, #toc_container ol, #toc_container ol li{ list-style: outside none none !important; } </style> <!-- <div id="toc_container"> <p class="toc_title">Table of Contents</p> <ol class="toc_list"> <li><a href="#introduction ">Permanent Magnet Synchronous Motor</a><br /></li> <ul> <li><a href="#construction">Construction</a><br /></li> <li><a href="#Mathematical_Model">Mathematical Model</a><br /></li> <ul> <li><a href="#construction">Stationary Model</a><br /></li> <li><a href="#Mathematical_Model">Rotational Reference Frame Model</a><br /></li> </ul> </ul> </li> <li><a href="#lession1">Configure Rotor Position Sensing</a><br /></li> </ol> </div> --> <h1 id="permanent-magnet-synchronous-motor-"> <a href="#permanent-magnet-synchronous-motor-" aria-labelledby="permanent-magnet-synchronous-motor-" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Permanent Magnet Synchronous Motor <a name="introduction"></a> </h1> <p>The Permanent Magnet Synchronous Motor (PMSM) is the most preferred choice for motor control applications. Due to their permanent magnet rotor, they also have higher torque with smaller frame size and no rotor current, all of which are advantages over AC Induction Motors (AICMs). With their high power-to-size ratio, PMSMs can help make the design smaller without the loss of torque. These strengths enable the usage of PMSM in a broad range of variable frequency drives (VFDs) applications.</p> <h2 id="construction"> <a href="#construction" aria-labelledby="construction" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Construction<a name="construction"></a> </h2> <p>Permanent Magnet Synchronous Motor (PMSM) is an AC synchronous motor driven by a three-phase controlled AC supply. Figure 1 shows a split view of a typical PMSM.</p> <p align="center"> <img src="images/split_view_pmsm.jpg" /> <figcaption align="center">Figure.1 - Split view of PMSM Motor </figcaption> </p> <p>The PMSM has a stationary part called the stator; a rotating part called the rotor. The stator consists of three-phase windings. When the stator is excited with a balanced three-phase voltage, it generates a rotating magnetic field. The rotor has implanted permanent magnets on its core and generates the rotor’s magnetic field. The rotor’s magnetic field interacts with the stator’s rotating magnetic field to produce the rotor torque. PMSMs are broadly classified into the following two categories depending upon the rotor construction:</p> <ul> <li>Surface-mounted ( SPMSM )</li> <li>Interior-buried ( IPMSM )</li> </ul> <p>The SPMSM has the permanent magnets fixed on the surface of the rotor leading to a symmetrical air-gap reluctance path between the rotor and the stator core. The IPMSM has the permanent magnets inserted inside the rotor core leading to a non-symmetrical air-gap reluctance path between the rotor and the stator core.</p> <p>Figure 2 shows the transversal-sectional view of surface-mounted and interior buried PMSM rotor configurations.</p> <p align="center"> <img src="images/rotor_cross_section.jpg" /> <figcaption align="center">Figure.2 - Rotor transversal section </figcaption> </p> <h2 id="mathematical-model-"> <a href="#mathematical-model-" aria-labelledby="mathematical-model-" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mathematical Model <a name="Mathematical_Model"></a> </h2> <p>The effective mathematical model of PMSM is critical for controller and observer design for PMSM based variable frequency drives. Even though PMSMs are inherently non-linear systems, they can be modeled as a simple linear time-invariant dynamical system for controller and observer design in most drive applications. The following section briefly introduces a simple linear dynamical model of the PMSM in the stationary and rotational reference frame</p> <h3 id="stationary-reference-frame-model-"> <a href="#stationary-reference-frame-model-" aria-labelledby="stationary-reference-frame-model-" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Stationary Reference Frame Model <a name="Stationary_Model"></a> </h3> <p>The following equation represents the stationary model of PMSM:</p> <!-- $ \vec{u}_{alpha}{\beta} = R_{s}{\vec{i}_{alpha}{\beta}} + {\frac{d}{dt}}{\bf_{alpha}{\beta}}{\vec{i}_{alpha}{\beta}} + \vec{e}_{alpha}{\beta} $ --> <p align="center"> <img style="transform: translateY(0.1em); background: white;" src="svg\oihAe4nS7y.svg" /> </p> <p>where <!-- $\vec{u}_{alpha}{\beta} = \begin{bmatrix}u_{alpha} & u_{\beta}\end{bmatrix}^T$ --> <img style="transform: translateY(0.1em); background: white;" src="svg\tKXq4XkR0d.svg" /> is the stator voltage in stationary reference frame; <!-- $\vec{i}_{alpha}{\beta} = \begin{bmatrix}i_{alpha} & i_{\beta}\end{bmatrix}^T$ --> <img style="transform: translateY(0.1em); background: white;" src="svg\xvgaaGZbNJ.svg" /> is the stator current in stationary reference frame; <!-- $\vec{e}_{alpha}{\beta} = \begin{bmatrix}e_{alpha} & e_{\beta}\end{bmatrix}^T$ --> <img style="transform: translateY(0.1em); background: white;" src="svg\7O5PAWFt5K.svg" /> is the stator back EMF in stationary reference frame; <!-- $R_{s}$ --> <img style="transform: translateY(0.1em); background: white;" src="svg\Dcm43Fz41Y.svg" /> is the stator per phase resistance.</p> <!-- $ \bf_{\alpha}{\beta} = \begin{bmatrix} \frac{L_{d} + L_{q}}{2} + \frac{L_{d} - L_{q}}{2}\cos(\theta_{e})& \frac{L_{d} - L_{q}}{2}\sin(\theta_{e})\\[0.6em] \frac{L_{d} - L_{q}}{2}\sin(\theta_{e}) & \frac{L_{d} + L_{q}}{2} + \frac{L_{d} - L_{q}}{2}\cos(\theta_{e}) \end{bmatrix} $ --> <p align="center"> <img style="transform: translateY(0.1em); background: white;" src="svg\VPzrsEQvjy.svg" /> </p> <!-- $L_{d}$ --> <p><img style="transform: translateY(0.1em); background: white;" src="svg\ARHgXE4Sff.svg" /> is the inductance when the winding axis is aligned to rotor flux axis; <!-- $L_{q}$ --> <img style="transform: translateY(0.1em); background: white;" src="svg\Zm2D5y0bXO.svg" /> is the inductance when the winding axis orthogonal to rotor flux axis; and <!-- $\theta_{e}$ --> <img style="transform: translateY(0.1em); background: white;" src="svg\cOC3B7F1eD.svg" /> is the electrical rotor angle.</p> <!-- $ {\vec{e}_{\alpha}{\beta}} = \omega_{e}\lambda_{m} \begin{bmatrix} -\sin(2\theta_{e})\\[0.6em] \cos(2\theta_{e}) \end{bmatrix} $ --> <p align="center"> <img style="transform: translateY(0.1em); background: white;" src="svg\3mEoGONWV7.svg" /> </p> <!-- $\lambda_{m}$ --> <p><img style="transform: translateY(0.1em); background: white;" src="svg\pLE9aSIk3K.svg" /> is the permanent magnet flux linkage; and <!-- $\omega_e$ --> <img style="transform: translateY(0.1em); background: white;" src="svg\o46ezAVIoK.svg" /> is the electrical speed of the motor.</p> <h3 id="rotational-reference-frame-model-"> <a href="#rotational-reference-frame-model-" aria-labelledby="rotational-reference-frame-model-" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rotational Reference Frame Model <a name="Rotational_Model"></a> </h3> <p>The rotational reference frame model of the PMSM is derived by linear transformation of the PMSM stationary frame to a rotating reference frame (Park’s Transformation). The transformation essentially converts all sinusoidally varying components to DC components, thereby making control and analysis using classical control very simple. The step wise process of transformation is beyond the scope of this application note. Hence, the final result of the transformation is only shown.</p> <p>Equation 2.4 shows the rotational reference frame model of PMSM. <!-- $ \vec{u}_{dq} = R_{s}{\vec{i}_{dq}} + {\frac{d}{dt}}{\bf_{dq}}{\vec{i}_{dq}} + \omega_{e}\bf{J}{\bf_{dq}} + \omega_{e}\begin{bmatrix} 0 \\[0.6em] \lambda_{m} \end{bmatrix} $ --></p> <p align="center"> <img style="transform: translateY(0.1em); background: white;" src="svg\T1OaHQOnfa.svg" /> </p> <p>where <!-- $\vec{u}_{dq} = \begin{bmatrix}u_{d} & u_{q}\end{bmatrix}^T$ --> <img style="transform: translateY(0.1em); background: white;" src="svg\cgRnQXtWYX.svg" /> is the stator phase voltage in rotating reference frame; <!-- $\vec{i}_{dq} = \begin{bmatrix}i_{d} & i_{q}\end{bmatrix}^T$ --> <img style="transform: translateY(0.1em); background: white;" src="svg\h8eLpSdrDr.svg" /> is the stator phase current vector in rotating reference frame; <!-- $R_{s}$ --> <img style="transform: translateY(0.1em); background: white;" src="svg\ud2yUYBE7s.svg" /> is the stator resistance; <!-- $\omega_e$ --> <img style="transform: translateY(0.1em); background: white;" src="svg\RGxSC45MeH.svg" /> is the electrical speed of the motor; <!-- $\lambda_m$ --> <img style="transform: translateY(0.1em); background: white;" src="svg\1xMaiFV3ML.svg" /> is the permanent magnet flux linkage; <!-- $\bf{J} = \begin{bmatrix} 0 & -1\\[0.6em] 1 & 0 \end{bmatrix} $ --> <img style="transform: translateY(0.1em); background: white;" src="svg\7Iv2tRqoRM.svg" /> is the rotational matrix.</p> <!-- $ \bf{L_{dq}} = \begin{bmatrix} L_{d} & 0\\[0.6em] 0 & L_{q} \end{bmatrix} $ --> <p align="center"> <img style="transform: translateY(0.1em); background: white;" src="svg\VW8gcI6joy.svg" /> </p> <!-- $L_d$ --> <p><img style="transform: translateY(0.1em); background: white;" src="svg\BzUi7iltBf.svg" /> is the inductance when the winding axis is aligned to rotor flux axis; and <!-- $L_q$ --> <img style="transform: translateY(0.1em); background: white;" src="svg\hby4H6kxk1.svg" /> is the inductance when the winding axis orthogonal to rotor flux axis.</p> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0"><img src='https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png' /><br />Copyright &copy; 2020 Microchip Technology.</p> <!-- <p class="text-small text-grey-dk-000 mb-0"><img src='../../../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2022 Microchip Technology.</p> --> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
